var net = require('net');

//var server = net.createServer();
//server.on('connection',function(socket){
net.createServer(function(socket){
	console.log('client has connected.', socket);
	
	socket.on('data',function(chunk){
		console.log('rev : ' , chunk.toString());
	});
	
	socket.on('close',function(){
		console.log('socket closed');
	});
	
	process.stdin.on('data',function(chunk){
		socket.write(chunk.toString());
	});
	
}).listen(8888,function(){
	
	console.log("server is running");
});
/*
server.on('listening',function(){
	console.log('server is running...');
});

server.on('close',function(){
	console.log('server is closed');
});

server.on('error',function(){
	console.log('server error');
});

server.listen(9999,function(){
	
	console.log('lesten');
});*/